---
layout: post
title: Why REST is so important
date: '2013-07-30T00:41:00.001+02:00'
author: Gregor
tags:
- REST
- Spring-Data
- Web Services
- Web Development
modified_time: '2014-07-20T16:52:19.515+02:00'
thumbnail: http://4.bp.blogspot.com/-ab4KymTz7MA/UfbbWi1zYvI/AAAAAAAAAFM/AJEO1dWrxCw/s72-c/chaos.jpg
blogger_id: tag:blogger.com,1999:blog-1178805312154210159.post-7327346251802803517
blogger_orig_url: http://www.beabetterdeveloper.com/2013/07/why-rest-is-so-important.html
---

<div class="separator" style="clear: both; text-align: center;"></div>This post is dedicated to REST, an architectural style of shaping webservices and one of the most misunderstood concept in the history of IT. This post is addressed to you who is designing webservice apis not being  fully aware what REST actually means. I'm trying to give you the idea.  This post is also addressed to you who think to know what REST means, when in reality you have no clue, just yet. Yes i have met such  people in the past - plenty of them. It's not going into the details of the <a href="http://martinfowler.com/articles/richardsonMaturityModel.html">Richardson Maturity Model</a>, and it's not gonna make you a REST expert. There are plenty of guides on the web for that: slides, youtube videos, blogposts, books and more. Rather than going into the details, i'm going to link some good resources at the end of this post. <br /><br />So lets start with<br /><br /><h3>The meaning of REST</h3>Representational State Transfer. This sentence is not only what REST stands for, it is also the tiniest possible description of what REST actually means. Didn't get it? Read it again: Representational State Transfer. It is not a standard, rather a style describing the act of transfering a state of something by its representation.<br /><br />Lets consider this: <br />Marcus is a farmer. He has a ranch with 4 pigs, 12 chickens and 3 cows. He is now simulating a REST api while i am the client. If i want to request the current state of his farm using REST i just ask him: "State?"<br />Marcus answers: "4 pigs, 12 chickens, 3 cows".<br />This is the most simple example of Representional State Transfer. Marcus transfered the state of his farm to me using a representation. The representation of the farm is the plain sentence: "4 pigs, 12 chickens, 3 cows".<br /><br />So lets get to the next level. How would i tell Marcus to add 2 cows to his farm the REST way?<br />Maybe tell him: "Marcus, please add 2 cows to your farm".<br />Do you think this was REST? Are we transfering state by its representation here? NO! This was calling a remote procedure. The procedure of adding 2 cows to the farm.<br />Marcus sadly answers: "400, Bad Request. What do you mean?"<br />So lets try this again. How would we do this the REST way? What was the representation again? It was "4 pigs, 12 chickens, 3 cows". Ok. so lets try this again transfering the representation...<br />me: "Marcus, ... 4 pigs, 12 chickens, <span style="color: red;">5</span> cows ... please!". <br />Marcus: "Alright !".<br />me: "Marcus, ... what is your state now?". <br />Marcus: "4 pigs, 12 chickens, 5 cows".<br />me: "Ahh, great!"<br />See? It was really not that hard and it was REST.<br /><br /><h3>Why RPC is a pain in the A**</h3>So why would you favor REST over the remote procedure call (=RPC) from a logical perspective? Because it dramatically reduces the complexity of our communication by making the representation our only contract. We do not have to discuss what kinds of procedures we need (Add a cow?, Add an animal of a type? Double the chickens amount? Remove all pigs?). All we have to discuss is the representation, and use this representation to achieve anything we want. Easy, isn't it? The needless complexity of RPC is not helpful at all. It is rather increasing the risk of misunderstandings, which we don't want. We don't want our communication to fail because Marcus and I understood a procedure differently.<br />But this is just one of many problems RPC is creating. If you want to use RPC you need to design some kind of structure to embed your procedure into. This structure requires a place to store parameters, error codes, return values and so on. I have seen lots of developers and companies who really did this. They designed their own RPC-Structure arising huge problems in the implementation of clients and client-server interaction. Why would you do this? Why would you invent your own RPC-Structure? Do you think this is helpful? What if i wanted to make an application that uses many WebServices of multiple proprietary RPC-Formats? I would have to develop something like this:<br /><table align="center" cellpadding="0" cellspacing="0" class="tr-caption-container" style="margin-left: auto; margin-right: auto; text-align: center;"><tbody><tr><td style="text-align: center;"><a href="http://4.bp.blogspot.com/-ab4KymTz7MA/UfbbWi1zYvI/AAAAAAAAAFM/AJEO1dWrxCw/s1600/chaos.jpg" style="margin-left: auto; margin-right: auto;"><img border="0" src="http://4.bp.blogspot.com/-ab4KymTz7MA/UfbbWi1zYvI/AAAAAAAAAFM/AJEO1dWrxCw/s1600/chaos.jpg" /></a></td></tr><tr><td class="tr-caption" style="text-align: center;">image #1</td></tr></tbody></table><br />Ugh...<br />If you really need RPC, at least choose a standard like SOAP. Don't make up your own stuff!<br /><br /><h3></h3><h3>But SOAP is still bad</h3>Still, even the standards of RPC are really painful. Well, i have to admit that with ACID Transactions, and a complete standardized Service Description Language, SOAP is not all that bad in some circumstances. Nevertheless, the overhead SOAP produces is massive and a huge performance killer. HTTP is a lightweight protocol. Its headers include anything you need. The only thing you want to put in the body is a representation - or not even that.<br /><br /><h3>Sessions are Evil</h3>Since i wrote solely about sessions and why they are bad in another post, i removed this paragraph. Please continue reading here: <a href="http://www.beabetterdeveloper.com/2013/11/sessions-pitfall.html">Sessions. A Pitfall</a><br /><br /><h3>Dont reinvent Hypermedia</h3>Since hypermedia is getting quite popular now, i beg you: Don't invent your own style.<br />We do already have plenty. There is<br /><ul><li>Hypermedia by the <a href="http://en.wikipedia.org/wiki/Atom_%28standard%29#Including_in_HTML">Atom Link specification</a> like in <a href="https://github.com/SpringSource/spring-hateoas">spring-hateoas</a> and <a href="http://www.springsource.org/spring-data/rest">spring-data-rest</a>.</li><li><a href="http://stateless.co/hal_specification.html">JSON-HAL</a></li><li><a href="http://json-ld.org/">JSON-LD</a></li><li>... </li></ul>And we are slowly getting to the situation in <i>image #1</i> again.<br /><br /><h3>Further Resources</h3>In this post, i have only scratched the surface of the advantages of REST. <br />Here are some good resources to get you a deeper understanding.<br /><ul><li><a href="http://martinfowler.com/articles/richardsonMaturityModel.html">Fowlers Article on the Richardson Maturity Model</a></li><li><a href="https://speakerdeck.com/ammeep/exist-in-the-web-not-on-it">A great slide on Hypermedia</a></li><li><a href="http://www.youtube.com/watch?v=XzgCzjMdvRE">A talk by David Zuelke on RESTful Webservices</a></li><li><a href="http://www.youtube.com/watch?v=YCcAE2SCQ6k">Intro to REST (short video of GoogleDevelopers)</a></li><li><a href="http://www.youtube.com/watch?v=5WXYw4J4QOU">A talk of Lez Hazlewood (Stormpath)</a></li><li><a href="http://www.amazon.com/RESTful-Web-Services-Cookbook-Scalability/dp/0596801688/ref=sr_1_2?s=books&amp;ie=UTF8&amp;qid=1375133720&amp;sr=1-2">A Cookbook for RESTful WebServices </a></li><li><a href="http://www.amazon.com/REST-HTTP-Einsatz-Architektur-Integrationsszenarien/dp/3898645835/ref=sr_1_30?ie=UTF8&amp;qid=1375133651&amp;sr=8-30">Great German Book about REST</a></li></ul>