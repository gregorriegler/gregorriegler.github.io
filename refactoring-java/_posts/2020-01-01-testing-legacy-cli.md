---
layout: post
category: refactoring-java
title: 'testing a legacy cli app (coffee machine part 1)'
date: 2020-01-01
---

Adding characterization tests to a legacy java code command line application. Running into the legacy code dilemma because of dependencies to the System global.

{% include youtube-player.html id="qHGc373a998" %}
[The code on my GitHub](https://github.com/gregorriegler/coffeemachine-kata)

I found the code thanks to [Ted Young](https://www.twitch.tv/jitterted), check out his quality coding twitch stream.

Where the code originates from: [stackexchange post](https://codereview.stackexchange.com/questions/83135/designing-a-coffee-machine)

Recommended book: [Working Effectively With Legacy Code](https://wiki.c2.com/?WorkingEffectivelyWithLegacyCode)

Recommended talk: [Michael Feathers - the deep synergy between testability and good design.](https://www.youtube.com/watch?v=4cVZvoFGJTU)

The 3rd party lib i used for Characterization Testing: [Seamer](https://github.com/gregorriegler/seamer).

Post about [Preparatory Refactoring](https://martinfowler.com/articles/preparatory-refactoring-example.html).
